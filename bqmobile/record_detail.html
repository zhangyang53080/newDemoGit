<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<title>打卡圣地</title>
		<meta name="keywords" content="百强水乐园" />
		<meta name="description" content="百强水乐园" />
		<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
		<link rel="stylesheet" type="text/css" href="./css/public.css" />
		<link rel="stylesheet" type="text/css" href="./css/swiper.min.css" />
		<link rel="stylesheet" type="text/css" href="./css/style.css" />

		<script src="./js/jquery.min.js"></script>
		<script src="./js/rem.js"></script>
		<script src="./js/swiper.min.js"></script>
	</head>
	<body>
		<div class="header no_index">
			<div class="menu">
				<img src="./images/back.png" class="back" alt="">
			</div>
			<div class="logo flex u-col-center">
				<img src="./images/index/logo.png" alt="">
				<span>百强水乐园</span>
			</div>
			<div class="right_text">一键购票</div>
		</div>
		<div class="Popups_swiper_wrap">
			<div class="big_swiper">
				<div class="swiper-container">
					<div class="swiper-wrapper">
						<div class="swiper-slide">
							<img src="http://www.bqsly.com/public/upload/goods/2020/05-09/809e94141f92aabd16ca5fc9f374f26f.jpg" class="main-img" />
						</div>
						<div class="swiper-slide">
							<img src="http://www.bqsly.com/public/upload/goods/2020/05-09/809e94141f92aabd16ca5fc9f374f26f.jpg" class="main-img" />
						</div>
					</div>
					<!-- 如果需要分页器 -->
					<div class="swiper-pagination naturehot-pagination"></div>
				</div>
			</div>
			<div class="Features flex u-row-center">
				<div class="flex">
					<div class="flex view u-col-center">
						<img src="./images/index/view.png">
						<span>00</span>
					</div>
					<div class="flex like u-col-center">
						<img src="./images/index/like.png">
						<span>00</span>
					</div>
					<div class="flex comment u-col-center">
						<img src="./images/index/comment.png">
						<span>00</span>
					</div>
				</div>
			</div>
			<div class="samll_swiper">
				<div class="swiper-container">
					<div class="swiper-wrapper">
						<div class="swiper-slide">
							<img src="http://www.bqsly.com/public/upload/goods/2020/05-09/809e94141f92aabd16ca5fc9f374f26f.jpg" class="main-img" />
						</div>
						<div class="swiper-slide">
							<img src="http://www.bqsly.com/public/upload/goods/2020/05-09/809e94141f92aabd16ca5fc9f374f26f.jpg" class="main-img" />
						</div>
					</div>
				</div>
			</div>
			<div class="comment_wrap">
				<div class="comment_list">
					<div class="commentAll">
						<!--评论区域 begin-->
						<div class="reviewArea clearfix">
							<textarea class="content comment-input" placeholder="请输入评论内容" onkeyup="keyUP(this)"></textarea>
							<a href="javascript:;" class="plBtn">评论</a>
						</div>
						<!--评论区域 end-->
						<!--回复区域 begin-->
						<div class="comment-show">
							<!-- 循环体 -->
							<div class="comment-show-con clearfix">
								<div class="comment-show-con-img pull-left"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTICgicia8hickzGAPdL2Op4tKgyhHD5H0Kr8yiaXLoicN8XvRDtIE8XIibYz3pykib4HfJhb02a9HvTIwicQQ/132"
									 alt=""></div>
								<div class="comment-show-con-list pull-left clearfix">
									<div class="pl-text clearfix">
										<a href="#" class="comment-size-name">张三 : </a>
										<span class="my-pl-con">&nbsp;来啊 造作啊!</span>
									</div>
									<div class="date-dz">
										<span class="date-dz-left pull-left comment-time">2017-5-2 11:11:39</span>
										<div class="date-dz-right pull-right comment-pl-block">
											<a href="javascript:;" class="date-dz-pl pl-hf hf-con-block pull-left">回复</a>
										</div>
									</div>
									<div class="hf-list-con"></div>
								</div>
							</div>
							<!-- 循环体结束 -->
						</div>
						<!--回复区域 end-->
					</div>


				</div>
			</div>
		</div>

		<script src="./js/common.js"></script>
		<script src="./js/jquery.flexText.js"></script>
		<script type="text/javascript">
			$(function() {
				$('.content').flexText();
			});
			//  textarea限制字数
			function keyUP(t) {
				var len = $(t).val().length;
				if (len > 139) {
					$(t).val($(t).val().substring(0, 140));
				}
			}

			<!--点击评论创建评论条-->
			$('.comment-show').on('click', '.pl-hf', function() {
				//获取回复人的名字
				var fhName = $(this).parents('.date-dz-right').parents('.date-dz').siblings('.pl-text').find('.comment-size-name')
					.html();
				//回复@
				var fhN = '回复@' + fhName;
				//var oInput = $(this).parents('.date-dz-right').parents('.date-dz').siblings('.hf-con');
				var fhHtml =
					'<div class="hf-con pull-left"> <textarea class="content comment-input hf-input" placeholder="" onkeyup="keyUP(this)"></textarea> <a href="javascript:;" class="hf-pl">回复</a></div>';
				//显示回复
				if ($(this).is('.hf-con-block')) {
					$(this).parents('.date-dz-right').parents('.date-dz').append(fhHtml);
					$(this).removeClass('hf-con-block');
					$('.content').flexText();
					$(this).parents('.date-dz-right').siblings('.hf-con').find('.pre').css('padding', '6px 15px');
					//console.log($(this).parents('.date-dz-right').siblings('.hf-con').find('.pre'))
					//input框自动聚焦
					$(this).text('取消回复');
					$(this).parents('.date-dz-right').siblings('.hf-con').find('.hf-input').val('').focus().val(fhN);
				} else {
					$(this).addClass('hf-con-block');
					$(this).text('回复');
					$(this).parents('.date-dz-right').siblings('.hf-con').remove();
				}
			});

			<!--点击回复动态创建回复块-->
			$('.commentAll').on('click', '.plBtn', function() {
				var myDate = new Date();
				//获取当前年
				var year = myDate.getFullYear();
				//获取当前月
				var month = myDate.getMonth() + 1;
				//获取当前日
				var date = myDate.getDate();
				var h = myDate.getHours(); //获取当前小时数(0-23)
				var m = myDate.getMinutes(); //获取当前分钟数(0-59)
				if (m < 10) m = '0' + m;
				var s = myDate.getSeconds();
				if (s < 10) s = '0' + s;
				var now = year + '-' + month + "-" + date + " " + h + ':' + m + ":" + s;
				//获取输入内容
				var oSize = $(this).siblings('.flex-text-wrap').find('.comment-input').val();
				console.log(oSize);
				//动态创建评论模块
				oHtml =
					'<div class="comment-show-con clearfix"><div class="comment-show-con-img pull-left"><img src="images/header-img-comment_03.png" alt=""></div> <div class="comment-show-con-list pull-left clearfix"><div class="pl-text clearfix"> <a href="#" class="comment-size-name">David Beckham : </a> <span class="my-pl-con">&nbsp;' +
					oSize + '</span> </div> <div class="date-dz"> <span class="date-dz-left pull-left comment-time">' + now +
					'</span> <div class="date-dz-right pull-right comment-pl-block"><a href="javascript:;" class="date-dz-pl pl-hf hf-con-block pull-left">回复</a></div> </div><div class="hf-list-con"></div></div> </div>';
				if (oSize.replace(/(^\s*)|(\s*$)/g, "") != '') {
					$(this).parents('.reviewArea ').siblings('.comment-show').prepend(oHtml);
					$(this).siblings('.flex-text-wrap').find('.comment-input').prop('value', '').siblings('pre').find('span').text(
						'');
				}
			});


			<!--评论回复块创建-->
			$('.comment-show').on('click', '.hf-pl', function() {
				var oThis = $(this);
				var myDate = new Date();
				//获取当前年
				var year = myDate.getFullYear();
				//获取当前月
				var month = myDate.getMonth() + 1;
				//获取当前日
				var date = myDate.getDate();
				var h = myDate.getHours(); //获取当前小时数(0-23)
				var m = myDate.getMinutes(); //获取当前分钟数(0-59)
				if (m < 10) m = '0' + m;
				var s = myDate.getSeconds();
				if (s < 10) s = '0' + s;
				var now = year + '-' + month + "-" + date + " " + h + ':' + m + ":" + s;
				//获取输入内容
				var oHfVal = $(this).siblings('.flex-text-wrap').find('.hf-input').val();
				var oHfName = $(this).parents('.hf-con').parents('.date-dz').siblings('.pl-text').find('.comment-size-name').html();
				var oAllVal = '回复@' + oHfName;
				if (oHfVal.replace(/^ +| +$/g, '') == '' || oHfVal == oAllVal) {

				} else {
					var oAt = '';
					var oHf = '';
					var data = {};
					var arr;
					var ohfNameArr;
					if (oHfVal.indexOf("@") == -1) {
						data['atName'] = '';
						data['hfContent'] = oHfVal;
					} else {
						arr = oHfVal.split(':');
						ohfNameArr = arr[0].split('@');
						data['hfContent'] = arr[1];
						data['atName'] = ohfNameArr[1];
					}

					if (data.atName == '') {
						oAt = data.hfContent;
					} else {
						oAt = '回复<a href="#" class="atName">@' + data.atName + '</a> : ' + data.hfContent;
					}
					oThis.parents('.date-dz').find('.pl-hf').text('回复');
					oHf = data.hfName;

					var oHtml =
						'<div class="all-pl-con"><div class="pl-text hfpl-text clearfix"><a href="#" class="comment-size-name">我的名字 : </a><span class="my-pl-con">' +
						oAt + '</span></div><div class="date-dz"> <span class="date-dz-left pull-left comment-time">' + now +
						'</span> <div class="date-dz-right pull-right comment-pl-block"><a href="javascript:;" class="date-dz-pl pl-hf hf-con-block pull-left">回复</a></div> </div></div>';

					oThis.parents('.hf-con').parents('.comment-show-con-list').find('.hf-list-con').css('display', 'block').prepend(
							oHtml) && oThis.parents('.hf-con').siblings('.date-dz-right').find('.pl-hf').addClass('hf-con-block') && oThis
						.parents('.hf-con').remove();
				}
			});

			$(document).ready(function() {
				var samllSwiper = new Swiper('.samll_swiper .swiper-container', {
					spaceBetween: 20,
					slidesPerView: 4,
					watchSlidesVisibility: true
				})
				var bigSwiper = new Swiper('.big_swiper .swiper-container', {
					loop:true,
					spaceBetween: 10,
					thumbs: {
						swiper: samllSwiper,
					},
					// 如果需要分页器
					pagination: {
						el: '.naturehot-pagination',
					}
				})
			})
		</script>
	</body>
</html>
